{"version":3,"sources":["parcels.js"],"names":["ParcelsController","req","res","status","send","success","message","parcels","db1","id","parseInt","params","map","user","findParcel","find","parcel","json","Parcel","body","userid","sendername","receivername","pickuplocation","destination","packagecontent","weight","price","length","push","index","splice","parcelFound","itemIndex","updatedParcel","parcelController"],"mappings":"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","file":"parcels.js","sourceRoot":"C:/Users/Soji/repositories/sendit/SendIT/parcelsControllers","sourcesContent":["/* eslint-disable class-methods-use-this */\n/* eslint-disable array-callback-return */\n/* eslint-disable consistent-return */\nimport parcels from '../db/db';\nimport db1 from '../db/db1';\n\nclass ParcelsController {\n  getAllParcels(req, res) {\n    return res.status(200).send({\n      success: 'true',\n      message: 'Parcels retrieved successfully',\n      parcels,\n    });\n  }\n\n  getAllUsersParcels(req, res) {\n    return res.status(200).send({\n      success: 'true',\n      message: 'users parcels retreived successfully',\n      parcels: db1,\n    });\n  }\n\n  getAllSpecificUserParcels(req, res) {\n    const id = parseInt(req.params.id, 10);\n    db1.map((user) => {\n      if (user.id === id) {\n        return res.status(200).send({\n          success: 'true',\n          message: 'user parcels retrieved successfully',\n          user,\n        });\n      }\n    });\n    return res.status(404).send({\n      success: 'false',\n      message: 'user does not exist',\n    });\n  }\n\n  getSpecificParcel(req, res) {\n    const findParcel = parcels.find(parcel => parcel.id === parseInt(req.params.id, 10));\n    if (findParcel) {\n      return res.status(200).json({\n        Parcel: findParcel,\n        message: 'A single Parcel',\n      });\n    }\n    return res.status(404).json({\n      message: 'parcel record not found',\n    });\n  }\n\n  createParcel(req, res) {\n    if (!req.body.userid) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'userid is required',\n      });\n    } if (!req.body.sendername) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'sendername is required',\n      });\n    } if (!req.body.receivername) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'receivername is required',\n      });\n    } if (!req.body.pickuplocation) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'pickuplocation is required',\n      });\n    } if (!req.body.destination) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'destination is required',\n      });\n    } if (!req.body.packagecontent) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'packagecontent is required',\n      });\n    } if (!req.body.weight) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'weight is required',\n      });\n    } if (!req.body.price) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'price is required',\n      });\n    }\n\n    const parcel = {\n      id: parcels.length + 1,\n      userid: req.body.userid,\n      sendername: req.body.sendername,\n      receivername: req.body.receivername,\n      pickuplocation: req.body.pickuplocation,\n      destination: req.body.destination,\n      packagecontent: req.body.packagecontent,\n      weight: req.body.weight,\n      price: req.body.price,\n    };\n    parcels.push(parcel);\n    return res.status(201).send({\n      success: 'true',\n      message: 'parcel added successfully',\n      parcel,\n    });\n  }\n\n  cancelParcel(req, res) {\n    const id = parseInt(req.params.id, 10);\n    parcels.map((parcel, index) => {\n      if (parcel.id === id) {\n        parcels.splice(index, 1);\n        return res.status(200).send({\n          success: 'true',\n          message: 'Parcel deleted successfuly',\n        });\n      }\n    });\n    return res.status(404).send({\n      success: 'false',\n      message: 'Parcel not found',\n    });\n  }\n\n  updateParcel(req, res) {\n    const id = parseInt(req.params.id, 10);\n    let parcelFound;\n    let itemIndex;\n    parcels.map((parcel, index) => {\n      if (parcel.id === id) {\n        parcelFound = parcel;\n        itemIndex = index;\n      }\n    });\n\n    if (!parcelFound) {\n      return res.status(404).send({\n        success: 'false',\n        message: 'parcel not found',\n      });\n    }\n    if (!req.body.userid) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'userid is required',\n      });\n    } if (!req.body.sendername) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'sendername is required',\n      });\n    } if (!req.body.receivername) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'receivername is required',\n      });\n    } if (!req.body.pickuplocation) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'pickuplocation is required',\n      });\n    } if (!req.body.destination) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'destination is required',\n      });\n    } if (!req.body.packagecontent) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'packagecontent is required',\n      });\n    } if (!req.body.weight) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'weight is required',\n      });\n    } if (!req.body.price) {\n      return res.status(400).send({\n        success: 'false',\n        message: 'price is required',\n      });\n    }\n\n    const updatedParcel = {\n      id: parcelFound.id,\n      userid: req.body.userid || parcelFound.userid,\n      sendername: req.body.sendername || parcelFound.sendername,\n      receivername: req.body.receivername || parcelFound.receivername,\n      pickuplocation: req.body.pickuplocation || parcelFound.pickuplocation,\n      destination: req.body.destination || parcelFound.destination,\n      packagecontent: req.body.packagecontent || parcelFound.packagecontent,\n      weight: req.body.weight || parcelFound.weight,\n      price: req.body.price || parcelFound.price,\n    };\n\n    parcels.splice(itemIndex, 1, updatedParcel);\n    return res.status(201).send({\n      success: 'true',\n      message: 'Parcel added successfully',\n      updatedParcel,\n    });\n  }\n}\n\nconst parcelController = new ParcelsController();\nexport default parcelController;\n"]}